<!DOCTYPE html>
<html lang="ja">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="alternate" type="application/rss+xml" title="mochieer.tech" href="https://mochieer.tech/index.xml">

    <link rel="stylesheet" href="https://mochieer.tech/css/style.786e50bd7255dcd8adec2ba126d4cba2fe5341bd4dd82b9ea78dd19bc17ea7b9.css">

    <meta property="og:site_name" content="mochieer.tech" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://mochieer.tech/images/share.png" />
    <meta property="og:description" content="mochieer.tech">
    <meta property="og:locale" content="ja_JP">
    <meta name="twitter:card" content="summary" />

    <meta property="og:title" content="PlantUML 写経 &middot; mochieer.tech">
<title>PlantUML 写経 &middot; mochieer.tech</title>


    <meta name="generator" content="Hugo 0.91.2" />
  </head>
  <body>
    <header class="l-header">
      <div class="u-flex u-flex--space-between">
  <section>
    <h1 class="p-header__title u-kerning">
      <a href="https://mochieer.tech">mochieer.tech</a>
    </h1>
  </section>
</div>

    </header>
    <section class="l-main">
      <div class="l-container">
        
<article class="p-article">
  <header class="p-article__header">
    <time class="c-date">
      <a class="c-date--year" href="https://mochieer.tech/posts/2020">2020</a>
      /
      <a class="c-date--month" href="https://mochieer.tech/posts/2020/10">10</a>
      /
      <a class="c-date--date" href="https://mochieer.tech/posts/2020/10/06">06</a>
    </time>
    <h1 class="p-article__header-title u-kerning">PlantUML 写経</h1>
    <ul class="c-tag-list">
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0">プログラミング</a></span>
</li>
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/plantuml">PlantUML</a></span>
</li>
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3">クラス図</a></span>
</li>
      </ul>
  </header>

  <section class="p-article__body">
    <p>最近、 PlantUML でクラス図を書くのが楽しい。</p>
<p>特におすすめなのが、コードレビュー時にひとつひとつのクラスを読み終わるたびに手元で PlantUML を書いていく読み方で、「PlantUML 写経」と個人的に呼んでいる。</p>
<p>書いたほうがいいのは、</p>
<ul>
<li>パッケージ（名前空間）</li>
<li>クラス
<ul>
<li>private なものは書かなくて良い</li>
<li>public なものも、別に全部書く必要はない</li>
<li>abstract は書いておくとよい</li>
</ul>
</li>
<li>依存関係
<ul>
<li>継承、実装</li>
<li>ほかの関係
<ul>
<li>クラス A はクラス B のインスタンスを保持する
<ul>
<li>&ldquo;1:1&rdquo;, &ldquo;1:1..n&rdquo;, &ldquo;1:0..n&rdquo; などラベルをつける</li>
</ul>
</li>
<li>クラス A はクラス B を利用する（ &ldquo;use&rdquo; とラベルを付ける）</li>
<li>クラス A はクラス B を生成する（ &ldquo;create&rdquo; とラベルを付ける）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ただし、厳密にすべてを書く必要はない。このように実装せよという指示書ではないのだから。</p>
<p>たとえば、依存関係が推移的に予想できるところなんかは省略すると読みやすくて良い。 <code>class A implements AInterface</code> と <code>class B implements BInterface</code> があり、 AInterface が BInterface に依存していて A が B に依存しているとき、全部書くとややこしくなってしまう。</p>
<hr>
<p>PlantUML は incremental に書ける点がよい。</p>
<p>初見のコードを読みながら紙にクラスの依存関係を手書きすると、だいたい最初に読んだクラスを書く場所が悪くて、後で読んだクラスが紙の端に追いやられ、依存関係の線がぐちゃぐちゃになる。</p>
<p>PlantUML では、今読んだところまでとりあえず書いておけば、そのときの最善な配置で図を書き出してくれるので、どのクラスから書き始めればいいだろうという悩みはない。</p>
<p>また、レビューコメントを受けて修正されたりすると、その修正どおりに PlantUML も書き直せば最新のクラス図ができあがる。レビューのお供にとても良い。</p>
<p>また、依存関係が適切に整理されたコードは、 PlantUML でクラス図を作った時にも、依存が上から下に流れるように描画されてとても美しい。コードを視覚的に堪能することが出来る。</p>
<hr>
<p>エディタは使いやすいので良いと思うが、個人的には <a href="https://boostnote.io/">Boost Note</a> の <a href="https://github.com/BoostIO/boost-releases/releases/tag/v0.16.1">Legacy App</a> を使っている。（以前、新しい方を入れたら PlantUML 書けなかったので）</p>
<p>書いてる時にリアルタイムに図が更新される必要はない（むしろ視線を持っていかれるのでやめてほしい）が、図に反映されるのは簡単で速いのがいい、となって Boost Note に落ち着いている。</p>
<p>もともと Markdown エディタなので、 PR コメントの下書きも書けて便利。</p>

  </section>

  <footer class="p-article__footer">
    <ul class="c-tag-list">
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0">プログラミング</a></span>
</li>
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/plantuml">PlantUML</a></span>
</li>
      <li><span class="c-tag"><a href="https://mochieer.tech/tags/%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3">クラス図</a></span>
</li>
      </ul>
    <div class="p-article__revision">
      <span class="c-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
</span>

      <a href="https://github.com/mochieer/mochieer.tech/commits/main/content/posts/2020/10/06/plantuml/">GitHub で修正履歴を見る</a><br />
      この記事に修正が必要であれば、 <a href="https://twitter.com/mochieer">Twitter</a> または <a href="https://github.com/mochieer/mochieer.tech/issues/new">GitHub の issue</a> にてご連絡ください。
    </div>
  </footer>
</article>

      </div>
    </section>
    <footer class="l-footer">
      <div class="p-footer">
    <ul>
      <li>
        <span aria-hidden="true"><span class="c-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
</span>
</span>
        <a href="https://mochieer.tech/index.xml">RSS feed</a>
      </li>
      <li>
        <span aria-hidden="true"><span class="c-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-terminal"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>
</span>
</span>
        <a href="https://gohugo.io">Powered by Hugo</a>
      </li>
      <li>
        <span aria-hidden="true"><span class="c-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
</span>
</span>
        <a href="https://github.com">Hosted on GitHub Pages</a>
      </li>
    </ul>
  <p>
    Made with ❤️️ & <a href="https://buymeacoff.ee/mochieer" class="u-text-decoration--none">☕️</a> by mochieer.
  </p>
</div>

    </footer>
  </body>
</html>
